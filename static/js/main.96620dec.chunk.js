(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{26:function(e){e.exports=JSON.parse('{"pages":{"Top":{"title":"\u30de\u30a4\u30f3\u30b9\u30a4\u30fc\u30d1\u30fc","mode":{"easy":"\u7c21\u5358","normal":"\u666e\u901a","hard":"\u96e3\u3057\u3044"}}},"templates":{"Board":{"reset":"\u30ea\u30bb\u30c3\u30c8"}}}')},29:function(e,t,a){e.exports=a(43)},34:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),l=a.n(c),o=(a(34),a(28)),u=a(46),s=a(25),i=a.n(s),m=a(26),b={ja:i()(m)},f=function(e){var t=e.locale,a=Object(o.a)(e,["locale"]);return r.a.createElement(u.a,Object.assign({locale:t,messages:b[t]},a))};f.defaultProps={locale:"ja"};var h=f,p=a(10),d=a(9),v=a(7),j=a(45),g=a(44),E={easy:{bomb:10,x:10,y:7},normal:{bomb:40,x:18,y:14},hard:{bomb:99,x:24,y:20}},O=function(e){var t=e.children;return r.a.createElement("div",{className:"wrapper"},t)},y=a(8),k=a(3),w=a(27),x=a.n(w),C={state:"close",bomb:!1,value:0},N=function(e){var t=e.modeInfo,a=Object(n.useState)(),c=Object(p.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)(),s=Object(p.a)(u,2),i=s[0],m=s[1],b=Object(n.useState)(!1),f=Object(p.a)(b,2),h=f[0],j=f[1],E=Object(n.useCallback)((function(){for(var e=t.x,a=t.y,n=Array(e*a).fill(C),r=[],c=0;c<n.length;c+=e)r.push(n.slice(c,c+e));o(r),j(!1),m(null)}),[t]);Object(n.useEffect)((function(){E()}),[E]);var O=Object(n.useCallback)((function(){for(var e=t.x,a=t.y,n=t.bomb,r=function(e,t){for(var a=t.i,n=t.j,r=[];e.length>0;){var c=e.length,l=Math.floor(Math.random()*c);(a+1)*(n+1)===r.length+1&&r.push(C),r.push(e[l]),e[l]=e[c-1],e=e.slice(0,c-1)}return r}([].concat(Object(k.a)(Array(n).fill(Object(y.a)({},C,{bomb:!0}))),Object(k.a)(Array(e*a-n-1).fill(C))),Object(y.a)({},i)),c=[],l=0;l<r.length;l+=e)c.push(r.slice(l,l+e));o(function(e){for(var t=[],a=0;a<e.length;a++){for(var n=[],r=0;r<e[a].length;r++)if(e[a][r].bomb)n.push(e[a][r]);else{var c=[];r-1>=0&&a-1>=0&&c.push(e[a-1][r-1]),a-1>=0&&c.push(e[a-1][r]),r+1<e[a].length&&a-1>=0&&c.push(e[a-1][r+1]),r+1<e[a].length&&c.push(e[a][r+1]),r+1<e[a].length&&a+1<e.length&&c.push(e[a+1][r+1]),a+1<e.length&&c.push(e[a+1][r]),r-1>=0&&a+1<e.length&&c.push(e[a+1][r-1]),r-1>=0&&c.push(e[a][r-1]);var l=c.filter((function(e){return e.bomb}));n.push(Object(y.a)({},e[a][r],{value:l.length}))}t.push(n)}return t}(c))}),[i]);Object(n.useEffect)((function(){i&&(O(),j(!0))}),[i,O]);var w=Object(n.useCallback)((function(e,t,a){var n=Object(k.a)(l),r=Object(k.a)(n[e]);r[t]=Object(y.a)({},n[e][t],{state:a}),n[e]=r,o(n)}),[l]),N=Object(n.useCallback)((function(e,t){i?"close"===l[e][t].state&&w(e,t,"open"):m({i:e,j:t})}),[l,i,w]);if(Object(n.useEffect)((function(){h&&i&&N(i.i,i.j)}),[h,N,i]),!l)return r.a.createElement(r.a.Fragment,null);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{onClick:function(){return E()}},r.a.createElement(g.a,{id:"templates.Board.reset"}))),r.a.createElement("div",{className:"board"},l.map((function(e,t){return r.a.createElement("div",{key:t,className:"row"},e.map((function(e,a){return r.a.createElement("div",{key:a,className:x()("cell",e.state,{bomb:e.bomb}),onClick:function(){return N(t,a)},onContextMenu:function(e){return function(e,t,a){e.preventDefault(),w(t,a,function(e){switch(e){case"close":return"flag";case"flag":return"onHold";case"onHold":return"close";case"open":return e}}(l[t][a].state))}(e,t,a)}},function(e){switch(e.state){case"close":return;case"flag":return r.a.createElement(v.a,{icon:d.b});case"onHold":return r.a.createElement(v.a,{icon:d.c});case"open":return e.bomb?r.a.createElement(v.a,{icon:d.a}):0===e.value?void 0:e.value}}(e))})))}))))},M=function(e){var t=e.defaultMode,a=Object(n.useState)(t),c=Object(p.a)(a,2),l=c[0],o=c[1],u=Object(j.a)().formatMessage;return r.a.createElement(O,null,r.a.createElement("div",{className:"title"},r.a.createElement(g.a,{id:"pages.Top.title"})),r.a.createElement("div",{className:"menu"},r.a.createElement("select",{onChange:function(e){var t=e.target.value;o(t)},defaultValue:l},Object.keys(E).map((function(e,t){return r.a.createElement("option",{key:t,value:e},u({id:"pages.Top.mode.".concat(e)}))}))),r.a.createElement(v.a,{icon:d.a})," \xd7 ",E[l].bomb),r.a.createElement(N,{modeInfo:E[l]}))};M.defaultProps={defaultMode:"easy"};var S=M,B=function(){return r.a.createElement(h,null,r.a.createElement(S,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[29,1,2]]]);
//# sourceMappingURL=main.96620dec.chunk.js.map